<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>تست اتصال به Supabase</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body style="font-family: tahoma; direction: rtl; padding: 20px;">

  <h2>تست اتصال به Supabase (نسخه سفارشی)</h2>

  <p id="status">در حال اتصال...</p>

  <script>
    const supabaseUrl = "https://kvetxiekvsohmsoubclo.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2ZXR4aWVrdnNvaG1zb3ViY2xvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMTc3MzUsImV4cCI6MjA4MDY5MzczNX0.aaKsNfP3jIgsZSlEivVAynIVEuQCceerfmkhzkthfoc";

    const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);

    async function testConnection() {
      let { data, error } = await supabaseClient
        .from("IRIusers")    // جدول با نام سفارشی
        .select("id")
        .limit(1);

      if (error) {
        document.getElementById("status").innerHTML = "❌ خطا: " + error.message;
        console.log(error);
      } else {
        document.getElementById("status").innerHTML = "✅ اتصال برقرار شد! اطلاعات جدول پیدا شد.";
        console.log(data);
      }
    }

    testConnection();
  </script>

</body>
</html>
